(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2eee9886"],{1569:function(e,t,s){"use strict";s.r(t);var n=s("7a23");function a(e,t,s,a,r,c){var o=Object(n["B"])("login");return Object(n["s"])(),Object(n["e"])("div",null,[Object(n["i"])(o)])}var r=s("f619"),c=s.n(r),o=Object(n["O"])("data-v-ba6687e8");Object(n["v"])("data-v-ba6687e8");var i={class:"container"},l={class:"login-wrap "},d={class:"row justify-content-center d-flex align-items-center"},u={class:"col-xl-10 col-lg-12 col-md-9"},b={class:"card shadow-lg my-5 d-flex"},m={class:"card-body p-0"},p={class:"row"},g={class:"col-lg-5"},j=Object(n["i"])("div",{class:"text-center"},[Object(n["i"])("h2",{class:"p-3 logo-text"},"CLARKE FARM")],-1),O={class:"auth text-center"},f={class:"auth-form mt-4"},v=Object(n["i"])("h6",{class:"text-center text-muted mb-3 "}," Welcome Back, Login to get Started",-1),h={class:"alert alert-danger alert-dismissible fade show d-none",role:"alert",id:"close-alert"},w=Object(n["i"])("strong",null,"Opps!  ",-1),y={class:"mb-3 ml-3"},k={class:"form-floating relative mb-2"},L=Object(n["i"])("label",{for:"name"},"Username",-1),x={class:"mb-3 text-left "},C={class:"form-floating mb-2"},I=Object(n["i"])("label",{for:"password"},"Password",-1),B=Object(n["i"])("hr",null,null,-1),A={class:"go-to-home mb-3"},U=Object(n["i"])("button",{type:"submit",class:"btn btn-outline-secondary  btn-block"}," Go to Home Page",-1),_=Object(n["i"])("div",{class:"col-lg-7"},[Object(n["i"])("img",{src:c.a})],-1);Object(n["t"])();var P=o((function(e,t,s,a,r,c){var P=Object(n["B"])("router-link");return Object(n["s"])(),Object(n["e"])("div",i,[Object(n["i"])("div",l,[Object(n["i"])("div",d,[Object(n["i"])("div",u,[Object(n["i"])("div",b,[Object(n["i"])("div",m,[Object(n["i"])("div",p,[Object(n["i"])("div",g,[j,Object(n["i"])("div",O,[Object(n["i"])("div",f,[Object(n["i"])("div",null,[v,Object(n["i"])("form",{class:"col-12 mt-5",onSubmit:t[4]||(t[4]=Object(n["N"])((function(){return c.userLogin&&c.userLogin.apply(c,arguments)}),["prevent"]))},[Object(n["i"])("div",h,[w,Object(n["h"])(Object(n["D"])(r.errormessage)+" ",1),Object(n["i"])("span",{"aria-hidden":"true",class:"close-alert","data-dismiss":"alert","aria-label":"Close",id:"close",onClick:t[1]||(t[1]=function(){return c.dismissAlert&&c.dismissAlert.apply(c,arguments)})},"×")]),Object(n["i"])("div",y,[Object(n["i"])("div",k,[Object(n["M"])(Object(n["i"])("input",{type:"text",class:"form-control",name:"name","onUpdate:modelValue":t[2]||(t[2]=function(e){return r.username=e})},null,512),[[n["I"],r.username]]),L])]),Object(n["i"])("div",x,[Object(n["i"])("div",C,[Object(n["M"])(Object(n["i"])("input",{type:"password",class:"form-control",name:"password","onUpdate:modelValue":t[3]||(t[3]=function(e){return r.password=e})},null,512),[[n["I"],r.password]]),I])])],32),Object(n["i"])("div",null,[Object(n["i"])("button",{type:"submit",class:"btn  login-btn btn-block",onClick:t[5]||(t[5]=function(){return c.userLogin&&c.userLogin.apply(c,arguments)}),id:"login-btn"},Object(n["D"])(r.status),1)]),B,Object(n["i"])("div",A,[Object(n["i"])(P,{to:"/"},{default:o((function(){return[U]})),_:1})])])])])]),_])])])])])])])})),S=s("1da1"),E=(s("96cf"),s("4eef")),R={name:"LoginPage",data:function(){return{username:"",password:"",status:"Login",errormessage:""}},methods:{createCredentialsObject:function(){var e={username:this.username,password:this.password,access_token:""};return e},userLogin:function(){var e=this;return Object(S["a"])(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.status="Logging in",s=e.createCredentialsObject(),t.next=4,E["a"].checkCredentials(s).then((function(t){e.status="Login",e.$store.dispatch("authenticateUser",t.data.data),sessionStorage.setItem("access_token",t.data.data.access_token),sessionStorage.setItem("user",JSON.stringify(t.data.data)),e.$router.push("/admin/dashboard"),e.username="",e.password=""})).catch((function(t){setTimeout(e.errorButton(),2e3),"user not found"===t.response.data.message?e.errormessage="User does not exist":"Incorrect Password"===t.response.data.message?e.errormessage="Check your password and try again":e.errormessage="Wrong Credentials! Contact Admin for assistance"}));case 4:case"end":return t.stop()}}),t)})))()},errorButton:function(){this.status="Login Failed!",document.getElementById("login-btn").style.backgroundColor="red",document.getElementById("close-alert").classList.remove("d-none")},dismissAlert:function(){document.getElementById("close-alert").classList.add("d-none")}}};s("22ab");R.render=P,R.__scopeId="data-v-ba6687e8";var J=R,M={name:"LoginPage",components:{Login:J}};M.render=a;t["default"]=M},"22ab":function(e,t,s){"use strict";s("d970")},"4eef":function(e,t,s){"use strict";var n=s("bc3a"),a=s.n(n),r=a.a.create({withCredentials:!1,headers:{Accept:"application/json","Content-Type":"application/json"}});t["a"]={createUser:function(e){return r.post("/api/users",e)},checkCredentials:function(e){return r.post("/api/users/login",e)}}},d970:function(e,t,s){},f619:function(e,t,s){e.exports=s.p+"img/forestwalk.9b29e615.jpg"}}]);
//# sourceMappingURL=chunk-2eee9886.1a7b1ada.js.map